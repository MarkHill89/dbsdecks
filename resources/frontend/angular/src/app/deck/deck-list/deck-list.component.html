<main class='container-fluid'>
    <div class='row my-3'>
        <section class='col'>
            <article class='card p-3 bg-super-dark border-color-super-dark'>
                <form>
                    <div class='row'>
                        <div class='col-md-4 col-lg-3'>
                            <input 
                            class='form-control form-control-sm rounded-0 mt-1'
                            type='text'
                            name="searchInput"
                            placeholder='Search by username'
                            id="searchInput"
                            [(ngModel)]="filter"/>
                        </div>
                        <div class='col-md-4 col-lg-3'>
                            <select 
                                *ngIf="deckListsLoaded"
                                name="leader"
                                class="form-control form-control-sm rounded-0 mt-1"
                                [(ngModel)]="leaderId"
                                (ngModelChange)="selectLeader($event)"
                                >
                            <option [ngValue]=''>-- See All --</option>
                                <option
                                    *ngFor="let leader of leadersLists; let n = index"
                                    [ngValue]="leader.id">
                                        {{leader.cardName}}
                                </option>
                            </select>
                        </div>
                    </div>
                </form>
            </article>
        </section>
    </div>
    <div class='row'>
        <section class='col-md-6' >
            <div class="recent-decks" *ngIf="deckListsLoaded">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class='text-light'>Community Decks</h3>
                    </div>
                    <div class="col-md-12">
                        <div class='row deck-list-header'>
                            <div class='col-12 pagination-wrapper'>
                                <pagination-controls 
                                    class='pagination-controls' 
                                    (pageChange)="page = $event"
                                >
                                </pagination-controls>
                            </div>
                        </div>
                        <table class="table table-striped my-0">
                            <tbody>
                                <tr *ngFor="let deckList of deckLists | filter:filter | filter:selectedLeaderName  | paginate: { itemsPerPage: pageSize, currentPage: page }; let i = index">
                                    <td>
                                        <a routerLink="/deck/view/{{deckList.id}}" class='w-100'>
                                            <span class="primaryLine w-100">{{deckList.title}}</span>
                                            <br/><span class="secondaryLine w-100">Posted by: {{deckList.username}} on {{deckList.submitDate}}</span>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>  
                    </div>
                </div>   
            </div>
        </section>
		<section class='col-md-6'>
            <app-trending-leaders></app-trending-leaders>
        </section>
    </div>
</main>